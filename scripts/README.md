# è„šæœ¬ç›®å½•

æœ¬ç›®å½•åŒ…å«é¡¹ç›®çš„å„ç§è‡ªåŠ¨åŒ–è„šæœ¬ï¼Œç”¨äºç®€åŒ–å¼€å‘ã€éƒ¨ç½²å’Œè¿ç»´æ“ä½œã€‚

## ğŸ“‚ ç›®å½•ç»“æ„

```
scripts/
â”œâ”€â”€ production/          # ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ start-prod.sh   # å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒå¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ start-pm2.sh    # ç®€åŒ–çš„PM2å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ stop-pm2.sh     # PM2åœæ­¢è„šæœ¬
â”‚   â””â”€â”€ ecosystem.config.json  # PM2è¿›ç¨‹é…ç½®æ–‡ä»¶
â””â”€â”€ README.md           # æœ¬æ–‡ä»¶
```

## ğŸš€ ç”Ÿäº§ç¯å¢ƒè„šæœ¬ (`production/`)

### ä¸»è¦è„šæœ¬

**`start-prod.sh`** - ä¸€é”®ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è„šæœ¬
```bash
# å®Œæ•´éƒ¨ç½²ï¼ˆæ¨èï¼‰
./scripts/production/start-prod.sh
```
åŠŸèƒ½ï¼š
- è‡ªåŠ¨å®‰è£…PM2ï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
- å®‰è£…æ‰€æœ‰é¡¹ç›®ä¾èµ–
- æ„å»ºå‰ç«¯é¡¹ç›®
- ä½¿ç”¨clusteræ¨¡å¼å¯åŠ¨åç«¯ï¼ˆmax instancesï¼‰
- é…ç½®æ—¥å¿—è®°å½•å’Œå¼€æœºè‡ªå¯åŠ¨

**`start-pm2.sh`** - ç®€åŒ–PM2å¯åŠ¨è„šæœ¬
```bash
# ä½¿ç”¨é…ç½®æ–‡ä»¶å¿«é€Ÿå¯åŠ¨
./scripts/production/start-pm2.sh
```

**`stop-pm2.sh`** - åœæ­¢PM2æœåŠ¡
```bash
# åœæ­¢ç”Ÿäº§ç¯å¢ƒæœåŠ¡
./scripts/production/stop-pm2.sh
```

### é…ç½®æ–‡ä»¶

**`ecosystem.config.json`** - PM2è¿›ç¨‹é…ç½®
- é›†ç¾¤æ¨¡å¼é…ç½®
- å†…å­˜é™åˆ¶å’Œè‡ªåŠ¨é‡å¯
- æ—¥å¿—æ–‡ä»¶è·¯å¾„
- ç¯å¢ƒå˜é‡è®¾ç½®

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### å¿«é€Ÿå¼€å§‹
```bash
# 1. ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
chmod +x scripts/production/*.sh

# 2. å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ
./scripts/production/start-prod.sh

# 3. æŸ¥çœ‹æœåŠ¡çŠ¶æ€
pm2 list

# 4. åœæ­¢æœåŠ¡ï¼ˆå¦‚éœ€è¦ï¼‰
./scripts/production/stop-pm2.sh
```

### æ›´æ–°æ ¹ç›®å½•package.jsonè„šæœ¬è·¯å¾„

ç”±äºè„šæœ¬ä½ç½®å˜æ›´ï¼Œéœ€è¦æ›´æ–°package.jsonä¸­çš„è„šæœ¬è·¯å¾„ï¼š

```json
{
  "scripts": {
    "start:pm2": "pm2 start scripts/production/ecosystem.config.json",
    "stop:pm2": "pm2 stop scripts/production/ecosystem.config.json",
    "restart:pm2": "pm2 restart scripts/production/ecosystem.config.json"
  }
}
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [PM2éƒ¨ç½²æŒ‡å—](../docs/pm2-deployment.md) - è¯¦ç»†çš„PM2éƒ¨ç½²å’Œç®¡ç†æ–‡æ¡£
- [é¡¹ç›®ç»“æ„](../docs/project-structure.md) - æ•´ä½“é¡¹ç›®ç»“æ„è¯´æ˜
- [å¼€å‘å·¥å…·](../docs/development-tools.md) - å¼€å‘ç›¸å…³å·¥å…·å’Œè„šæœ¬

## ğŸ”® æœªæ¥æ‰©å±•

è®¡åˆ’æ·»åŠ çš„è„šæœ¬ç±»å‹ï¼š
- `development/` - å¼€å‘ç¯å¢ƒè„šæœ¬
- `testing/` - æµ‹è¯•ç›¸å…³è„šæœ¬
- `database/` - æ•°æ®åº“æ“ä½œè„šæœ¬
- `backup/` - å¤‡ä»½ç›¸å…³è„šæœ¬
- `monitoring/` - ç›‘æ§å’Œå¥åº·æ£€æŸ¥è„šæœ¬

---

*æœ€åæ›´æ–°: 2025å¹´9æœˆ*
